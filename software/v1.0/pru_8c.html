<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>RocketLogger: pru.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RocketLogger
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('pru_8c.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">pru.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="pru_8h_source.html">pru.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for pru.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="pru_8c__incl.png" border="0" usemap="#pru_8c" alt=""/></div>
<map name="pru_8c" id="pru_8c">
<area shape="rect" id="node2" href="pru_8h.html" title="pru.h" alt="" coords="2367,80,2417,107"/>
<area shape="rect" id="node24" href="log_8h.html" title="log.h" alt="" coords="1709,379,1760,405"/>
<area shape="rect" id="node25" href="types_8h.html" title="types.h" alt="" coords="1702,453,1767,480"/>
<area shape="rect" id="node30" href="util_8h.html" title="util.h" alt="" coords="1320,304,1371,331"/>
<area shape="rect" id="node32" href="calibration_8h.html" title="calibration.h" alt="" coords="483,304,575,331"/>
<area shape="rect" id="node33" href="meter_8h.html" title="meter.h" alt="" coords="1504,229,1571,256"/>
<area shape="rect" id="node34" href="file__handling_8h.html" title="file_handling.h" alt="" coords="2017,155,2122,181"/>
<area shape="rect" id="node36" href="sem_8h.html" title="sem.h" alt="" coords="2340,304,2399,331"/>
<area shape="rect" id="node38" href="web_8h.html" title="web.h" alt="" coords="1635,229,1693,256"/>
<area shape="rect" id="node35" href="rl__file_8h.html" title="rl_file.h" alt="" coords="2037,379,2101,405"/>
</map>
</div>
</div>
<p><a href="pru_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a44d01ba0a136b8e27ad362f5a823d14e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pru_8c.html#a44d01ba0a136b8e27ad362f5a823d14e">_FILE_OFFSET_BITS</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:a44d01ba0a136b8e27ad362f5a823d14e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8003e1ac7da2ee5ce28b70417f12ecd5"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pru_8c.html#a8003e1ac7da2ee5ce28b70417f12ecd5">pru_wait_event</a> (void *voidEvent)</td></tr>
<tr class="separator:a8003e1ac7da2ee5ce28b70417f12ecd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d0ce3530455f19eaab044e35a461c4f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pru_8c.html#a4d0ce3530455f19eaab044e35a461c4f">pru_wait_event_timeout</a> (unsigned int event, unsigned int timeout)</td></tr>
<tr class="separator:a4d0ce3530455f19eaab044e35a461c4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7633dd2d59d343162d5dfcfc3b43ef4"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pru_8c.html#aa7633dd2d59d343162d5dfcfc3b43ef4">map_pru_memory</a> (void)</td></tr>
<tr class="separator:aa7633dd2d59d343162d5dfcfc3b43ef4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a948700e88394d8922649c931a3d898e5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pru_8c.html#a948700e88394d8922649c931a3d898e5">unmap_pru_memory</a> (void *pru_mmap)</td></tr>
<tr class="separator:a948700e88394d8922649c931a3d898e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca3acbd32d5951672e7b2b1523f3c2fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pru_8c.html#aca3acbd32d5951672e7b2b1523f3c2fa">pru_set_state</a> (<a class="el" href="pru_8h.html#ac1d7cd733ef08a5dde1d84664788bfa5">rl_pru_state</a> <a class="el" href="types_8h.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a>)</td></tr>
<tr class="separator:aca3acbd32d5951672e7b2b1523f3c2fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab784943bfd599f19fddb98647d2f253c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pru_8c.html#ab784943bfd599f19fddb98647d2f253c">pru_init</a> (void)</td></tr>
<tr class="separator:ab784943bfd599f19fddb98647d2f253c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4707ea56eb19ed66966c1d92567b120c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pru_8c.html#a4707ea56eb19ed66966c1d92567b120c">pru_data_setup</a> (struct <a class="el" href="structpru__data__struct.html">pru_data_struct</a> *pru, struct <a class="el" href="structrl__conf.html">rl_conf</a> *conf, uint32_t avg_factor)</td></tr>
<tr class="separator:a4707ea56eb19ed66966c1d92567b120c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57e9b94e0c8080b953a54cbe7b6c575a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pru_8c.html#a57e9b94e0c8080b953a54cbe7b6c575a">pru_sample</a> (FILE *data, struct <a class="el" href="structrl__conf.html">rl_conf</a> *conf)</td></tr>
<tr class="separator:a57e9b94e0c8080b953a54cbe7b6c575a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2cde663e8bad29a264a7670f0e08511"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pru_8c.html#ab2cde663e8bad29a264a7670f0e08511">pru_stop</a> (void)</td></tr>
<tr class="separator:ab2cde663e8bad29a264a7670f0e08511"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a307dd06bc7b81f70ae57e66aa9a6d2ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pru_8c.html#a307dd06bc7b81f70ae57e66aa9a6d2ca">pru_close</a> (void)</td></tr>
<tr class="separator:a307dd06bc7b81f70ae57e66aa9a6d2ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad2718fc743dfe4460461ce938718ffa0"><td class="memItemLeft" align="right" valign="top">pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pru_8c.html#ad2718fc743dfe4460461ce938718ffa0">waiting</a> = PTHREAD_MUTEX_INITIALIZER</td></tr>
<tr class="memdesc:ad2718fc743dfe4460461ce938718ffa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">PRU access mutex.  <a href="#ad2718fc743dfe4460461ce938718ffa0">More...</a><br /></td></tr>
<tr class="separator:ad2718fc743dfe4460461ce938718ffa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba47632bdb6d911ae56229c7ef017723"><td class="memItemLeft" align="right" valign="top">pthread_cond_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pru_8c.html#aba47632bdb6d911ae56229c7ef017723">done</a> = PTHREAD_COND_INITIALIZER</td></tr>
<tr class="memdesc:aba47632bdb6d911ae56229c7ef017723"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notification variable.  <a href="#aba47632bdb6d911ae56229c7ef017723">More...</a><br /></td></tr>
<tr class="separator:aba47632bdb6d911ae56229c7ef017723"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a44d01ba0a136b8e27ad362f5a823d14e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _FILE_OFFSET_BITS&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copyright (c) 2016-2017, ETH Zurich, Computer Engineering Group </p>

<p>Definition at line <a class="el" href="pru_8c_source.html#l00005">5</a> of file <a class="el" href="pru_8c_source.html">pru.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aa7633dd2d59d343162d5dfcfc3b43ef4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* map_pru_memory </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Map PRU memory into user space </p>

<p>Definition at line <a class="el" href="pru_8c_source.html#l00075">75</a> of file <a class="el" href="pru_8c_source.html">pru.c</a>.</p>

<p>References <a class="el" href="types_8h_source.html#l00167">ERROR</a>, <a class="el" href="pru_8h_source.html#l00105">MMAP_FILE</a>, <a class="el" href="util_8c_source.html#l00156">read_file_value()</a>, and <a class="el" href="log_8c_source.html#l00012">rl_log()</a>.</p>

<p>Referenced by <a class="el" href="pru_8c_source.html#l00266">pru_sample()</a>.</p>

<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="pru_8c_aa7633dd2d59d343162d5dfcfc3b43ef4_cgraph.png" border="0" usemap="#pru_8c_aa7633dd2d59d343162d5dfcfc3b43ef4_cgraph" alt=""/></div>
<map name="pru_8c_aa7633dd2d59d343162d5dfcfc3b43ef4_cgraph" id="pru_8c_aa7633dd2d59d343162d5dfcfc3b43ef4_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a67a3cc56d4440aca0b206f54add44ee2" title="read_file_value" alt="" coords="180,5,289,32"/>
<area shape="rect" id="node3" href="log_8c.html#a03a4554bb48a96130b86f2c14b23f515" title="rl_log" alt="" coords="337,31,391,57"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a307dd06bc7b81f70ae57e66aa9a6d2ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pru_close </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disable PRU </p>

<p>Definition at line <a class="el" href="pru_8c_source.html#l00582">582</a> of file <a class="el" href="pru_8c_source.html">pru.c</a>.</p>

<p>Referenced by <a class="el" href="rl__hw_8c_source.html#l00056">hw_close()</a>.</p>

</div>
</div>
<a class="anchor" id="a4707ea56eb19ed66966c1d92567b120c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pru_data_setup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpru__data__struct.html">pru_data_struct</a> *&#160;</td>
          <td class="paramname"><em>pru</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrl__conf.html">rl_conf</a> *&#160;</td>
          <td class="paramname"><em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>avg_factor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>PRU data struct setup </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pru</td><td>Pointer to <a class="el" href="structpru__data__struct.html">pru_data_struct</a> to setup </td></tr>
    <tr><td class="paramname">conf</td><td>Pointer to current <a class="el" href="structrl__conf.html">rl_conf</a> configuration </td></tr>
    <tr><td class="paramname">avg_factor</td><td>Average factor for sampling rates smaller than minimal ADC rate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="types_8h.html#aa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a> on success, <a class="el" href="types_8h.html#a6d58f9ac447476b4e084d7ca383f5183">FAILURE</a> otherwise </dd></dl>

<p>Definition at line <a class="el" href="pru_8c_source.html#l00160">160</a> of file <a class="el" href="pru_8c_source.html">pru.c</a>.</p>

<p>References <a class="el" href="pru_8h_source.html#l00149">pru_data_struct::buffer0_location</a>, <a class="el" href="pru_8h_source.html#l00151">pru_data_struct::buffer1_location</a>, <a class="el" href="pru_8h_source.html#l00153">pru_data_struct::buffer_size</a>, <a class="el" href="pru_8h_source.html#l00068">CH1SET</a>, <a class="el" href="pru_8h_source.html#l00069">CH2SET</a>, <a class="el" href="pru_8h_source.html#l00070">CH3SET</a>, <a class="el" href="pru_8h_source.html#l00071">CH4SET</a>, <a class="el" href="pru_8h_source.html#l00072">CH5SET</a>, <a class="el" href="pru_8h_source.html#l00073">CH6SET</a>, <a class="el" href="pru_8h_source.html#l00074">CH7SET</a>, <a class="el" href="pru_8h_source.html#l00159">pru_data_struct::commands</a>, <a class="el" href="pru_8h_source.html#l00065">CONFIG1</a>, <a class="el" href="pru_8h_source.html#l00098">CONFIG1DEFAULT</a>, <a class="el" href="pru_8h_source.html#l00067">CONFIG3</a>, <a class="el" href="pru_8h_source.html#l00100">CONFIG3DEFAULT</a>, <a class="el" href="types_8h_source.html#l00167">ERROR</a>, <a class="el" href="types_8h_source.html#l00053">FAILURE</a>, <a class="el" href="pru_8h_source.html#l00080">GAIN1</a>, <a class="el" href="pru_8h_source.html#l00081">GAIN2</a>, <a class="el" href="pru_8h_source.html#l00087">K1</a>, <a class="el" href="pru_8h_source.html#l00091">K16</a>, <a class="el" href="pru_8h_source.html#l00088">K2</a>, <a class="el" href="pru_8h_source.html#l00092">K32</a>, <a class="el" href="pru_8h_source.html#l00089">K4</a>, <a class="el" href="pru_8h_source.html#l00093">K64</a>, <a class="el" href="pru_8h_source.html#l00090">K8</a>, <a class="el" href="types_8h_source.html#l00134">LIMIT</a>, <a class="el" href="pru_8h_source.html#l00105">MMAP_FILE</a>, <a class="el" href="types_8h_source.html#l00204">rl_conf::mode</a>, <a class="el" href="types_8h_source.html#l00078">NUM_CHANNELS</a>, <a class="el" href="pru_8h_source.html#l00136">NUMBER_ADC_COMMANDS</a>, <a class="el" href="pru_8h_source.html#l00157">pru_data_struct::number_commands</a>, <a class="el" href="pru_8h_source.html#l00145">pru_data_struct::precision</a>, <a class="el" href="pru_8h_source.html#l00114">PRECISION_HIGH</a>, <a class="el" href="pru_8h_source.html#l00115">PRECISION_LOW</a>, <a class="el" href="types_8h_source.html#l00090">PRU_BUFFER_STATUS_SIZE</a>, <a class="el" href="pru_8h_source.html#l00132">PRU_CONTINUOUS</a>, <a class="el" href="types_8h_source.html#l00088">PRU_DIG_SIZE</a>, <a class="el" href="pru_8h_source.html#l00131">PRU_LIMIT</a>, <a class="el" href="pru_8h_source.html#l00055">RDATAC</a>, <a class="el" href="util_8c_source.html#l00156">read_file_value()</a>, <a class="el" href="pru_8h_source.html#l00051">RESET</a>, <a class="el" href="log_8c_source.html#l00012">rl_log()</a>, <a class="el" href="pru_8h_source.html#l00155">pru_data_struct::sample_limit</a>, <a class="el" href="types_8h_source.html#l00210">rl_conf::sample_limit</a>, <a class="el" href="types_8h_source.html#l00206">rl_conf::sample_rate</a>, <a class="el" href="pru_8h_source.html#l00147">pru_data_struct::sample_size</a>, <a class="el" href="pru_8h_source.html#l00056">SDATAC</a>, <a class="el" href="pru_8h_source.html#l00120">SIZE_HIGH</a>, <a class="el" href="pru_8h_source.html#l00121">SIZE_LOW</a>, <a class="el" href="pru_8h_source.html#l00143">pru_data_struct::state</a>, <a class="el" href="types_8h_source.html#l00050">SUCCESS</a>, <a class="el" href="types_8h_source.html#l00208">rl_conf::update_rate</a>, and <a class="el" href="pru_8h_source.html#l00059">WREG</a>.</p>

<p>Referenced by <a class="el" href="pru_8c_source.html#l00266">pru_sample()</a>.</p>

<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="pru_8c_a4707ea56eb19ed66966c1d92567b120c_cgraph.png" border="0" usemap="#pru_8c_a4707ea56eb19ed66966c1d92567b120c_cgraph" alt=""/></div>
<map name="pru_8c_a4707ea56eb19ed66966c1d92567b120c_cgraph" id="pru_8c_a4707ea56eb19ed66966c1d92567b120c_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a67a3cc56d4440aca0b206f54add44ee2" title="read_file_value" alt="" coords="164,5,273,32"/>
<area shape="rect" id="node3" href="log_8c.html#a03a4554bb48a96130b86f2c14b23f515" title="rl_log" alt="" coords="321,31,375,57"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab784943bfd599f19fddb98647d2f253c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pru_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>PRU initiation </p><dl class="section return"><dt>Returns</dt><dd><a class="el" href="types_8h.html#aa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a> on success, <a class="el" href="types_8h.html#a6d58f9ac447476b4e084d7ca383f5183">FAILURE</a> otherwise </dd></dl>

<p>Definition at line <a class="el" href="pru_8c_source.html#l00139">139</a> of file <a class="el" href="pru_8c_source.html">pru.c</a>.</p>

<p>References <a class="el" href="types_8h_source.html#l00167">ERROR</a>, <a class="el" href="types_8h_source.html#l00053">FAILURE</a>, <a class="el" href="log_8c_source.html#l00012">rl_log()</a>, and <a class="el" href="types_8h_source.html#l00050">SUCCESS</a>.</p>

<p>Referenced by <a class="el" href="rl__hw_8c_source.html#l00013">hw_init()</a>.</p>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="pru_8c_ab784943bfd599f19fddb98647d2f253c_cgraph.png" border="0" usemap="#pru_8c_ab784943bfd599f19fddb98647d2f253c_cgraph" alt=""/></div>
<map name="pru_8c_ab784943bfd599f19fddb98647d2f253c_cgraph" id="pru_8c_ab784943bfd599f19fddb98647d2f253c_cgraph">
<area shape="rect" id="node2" href="log_8c.html#a03a4554bb48a96130b86f2c14b23f515" title="rl_log" alt="" coords="117,5,171,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a57e9b94e0c8080b953a54cbe7b6c575a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pru_sample </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrl__conf.html">rl_conf</a> *&#160;</td>
          <td class="paramname"><em>conf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Main PRU sampling function </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>File pointer to data file </td></tr>
    <tr><td class="paramname">conf</td><td>Pointer to current <a class="el" href="structrl__conf.html">rl_conf</a> configuration </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="types_8h.html#aa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a> on success, <a class="el" href="types_8h.html#a6d58f9ac447476b4e084d7ca383f5183">FAILURE</a> otherwise </dd></dl>

<p>Definition at line <a class="el" href="pru_8c_source.html#l00266">266</a> of file <a class="el" href="pru_8c_source.html">pru.c</a>.</p>

<p>References <a class="el" href="types_8h_source.html#l00152">BIN</a>, <a class="el" href="web_8h_source.html#l00070">web_shm::buffer</a>, <a class="el" href="web_8h_source.html#l00035">BUFFER100_SIZE</a>, <a class="el" href="web_8h_source.html#l00033">BUFFER10_SIZE</a>, <a class="el" href="web_8h_source.html#l00031">BUFFER1_SIZE</a>, <a class="el" href="types_8h_source.html#l00240">rl_status::buffer_number</a>, <a class="el" href="pru_8h_source.html#l00153">pru_data_struct::buffer_size</a>, <a class="el" href="rl__server_8c_source.html#l00045">buffer_sizes</a>, <a class="el" href="util_8c_source.html#l00116">ceil_div()</a>, <a class="el" href="rl__file_8h_source.html#l00157">rl_file_header::channel</a>, <a class="el" href="rl__file_8h_source.html#l00116">rl_file_lead_in::channel_bin_count</a>, <a class="el" href="rl__file_8h_source.html#l00119">rl_file_lead_in::channel_count</a>, <a class="el" href="types_8h_source.html#l00178">CHANNEL_ENABLED</a>, <a class="el" href="types_8h_source.html#l00212">rl_conf::channels</a>, <a class="el" href="util_8c_source.html#l00039">count_channels()</a>, <a class="el" href="sem_8c_source.html#l00011">create_sem()</a>, <a class="el" href="web_8c_source.html#l00011">create_web_shm()</a>, <a class="el" href="types_8h_source.html#l00151">CSV</a>, <a class="el" href="rl__file_8h_source.html#l00098">rl_file_lead_in::data_block_count</a>, <a class="el" href="types_8h_source.html#l00273">DATA_SEM</a>, <a class="el" href="types_8h_source.html#l00216">rl_conf::digital_inputs</a>, <a class="el" href="types_8h_source.html#l00197">DIGITAL_INPUTS_ENABLED</a>, <a class="el" href="types_8h_source.html#l00218">rl_conf::enable_web_server</a>, <a class="el" href="types_8h_source.html#l00167">ERROR</a>, <a class="el" href="types_8h_source.html#l00053">FAILURE</a>, <a class="el" href="types_8h_source.html#l00222">rl_conf::file_format</a>, <a class="el" href="types_8h_source.html#l00226">rl_conf::file_name</a>, <a class="el" href="file__handling_8c_source.html#l00383">handle_data_buffer()</a>, <a class="el" href="types_8h_source.html#l00184">I1H_INDEX</a>, <a class="el" href="types_8h_source.html#l00185">I1L_INDEX</a>, <a class="el" href="types_8h_source.html#l00188">I2H_INDEX</a>, <a class="el" href="types_8h_source.html#l00189">I2L_INDEX</a>, <a class="el" href="types_8h_source.html#l00169">INFO</a>, <a class="el" href="rl__file_8h_source.html#l00151">rl_file_header::lead_in</a>, <a class="el" href="types_8h_source.html#l00134">LIMIT</a>, <a class="el" href="pru_8c_source.html#l00075">map_pru_memory()</a>, <a class="el" href="types_8h_source.html#l00224">rl_conf::max_file_size</a>, <a class="el" href="types_8h_source.html#l00076">MAX_PATH_LENGTH</a>, <a class="el" href="types_8h_source.html#l00136">METER</a>, <a class="el" href="meter_8c_source.html#l00017">meter_init()</a>, <a class="el" href="meter_8c_source.html#l00040">meter_print_buffer()</a>, <a class="el" href="meter_8c_source.html#l00030">meter_stop()</a>, <a class="el" href="types_8h_source.html#l00108">MIN_ADC_RATE</a>, <a class="el" href="pru_8h_source.html#l00105">MMAP_FILE</a>, <a class="el" href="types_8h_source.html#l00204">rl_conf::mode</a>, <a class="el" href="types_8h_source.html#l00150">NO_FILE</a>, <a class="el" href="web_8h_source.html#l00068">web_shm::num_channels</a>, <a class="el" href="types_8h_source.html#l00078">NUM_CHANNELS</a>, <a class="el" href="types_8h_source.html#l00084">NUM_DIGITAL_INPUTS</a>, <a class="el" href="web_8h_source.html#l00040">NUM_WEB_POINTS</a>, <a class="el" href="types_8h_source.html#l00090">PRU_BUFFER_STATUS_SIZE</a>, <a class="el" href="pru_8h_source.html#l00107">PRU_CODE</a>, <a class="el" href="pru_8c_source.html#l00160">pru_data_setup()</a>, <a class="el" href="types_8h_source.html#l00088">PRU_DIG_SIZE</a>, <a class="el" href="pru_8h_source.html#l00130">PRU_OFF</a>, <a class="el" href="pru_8h_source.html#l00124">PRU_TIMEOUT</a>, <a class="el" href="pru_8c_source.html#l00044">pru_wait_event_timeout()</a>, <a class="el" href="util_8c_source.html#l00156">read_file_value()</a>, <a class="el" href="sem_8c_source.html#l00024">remove_sem()</a>, <a class="el" href="web_8c_source.html#l00055">reset_buffer()</a>, <a class="el" href="types_8h_source.html#l00119">RL_ERROR</a>, <a class="el" href="log_8c_source.html#l00012">rl_log()</a>, <a class="el" href="types_8h_source.html#l00118">RL_RUNNING</a>, <a class="el" href="rl__file_8h_source.html#l00101">rl_file_lead_in::sample_count</a>, <a class="el" href="pru_8h_source.html#l00155">pru_data_struct::sample_limit</a>, <a class="el" href="types_8h_source.html#l00210">rl_conf::sample_limit</a>, <a class="el" href="types_8h_source.html#l00206">rl_conf::sample_rate</a>, <a class="el" href="pru_8h_source.html#l00147">pru_data_struct::sample_size</a>, <a class="el" href="types_8h_source.html#l00238">rl_status::samples_taken</a>, <a class="el" href="types_8h_source.html#l00236">rl_status::sampling</a>, <a class="el" href="types_8h_source.html#l00127">SAMPLING_ON</a>, <a class="el" href="rl__server_8c_source.html#l00024">sem_id</a>, <a class="el" href="sem_8c_source.html#l00085">set_sem()</a>, <a class="el" href="file__handling_8c_source.html#l00188">setup_header()</a>, <a class="el" href="file__handling_8c_source.html#l00067">setup_lead_in()</a>, <a class="el" href="pru_8h_source.html#l00143">pru_data_struct::state</a>, <a class="el" href="types_8h_source.html#l00234">rl_status::state</a>, <a class="el" href="rl__server_8c_source.html#l00042">status</a>, <a class="el" href="file__handling_8c_source.html#l00204">store_header_bin()</a>, <a class="el" href="file__handling_8c_source.html#l00237">store_header_csv()</a>, <a class="el" href="types_8h_source.html#l00050">SUCCESS</a>, <a class="el" href="pru_8c_source.html#l00106">unmap_pru_memory()</a>, <a class="el" href="file__handling_8c_source.html#l00297">update_header_bin()</a>, <a class="el" href="file__handling_8c_source.html#l00310">update_header_csv()</a>, <a class="el" href="types_8h_source.html#l00275">WAIT_SEM</a>, <a class="el" href="types_8h_source.html#l00168">WARNING</a>, <a class="el" href="rl__server_8c_source.html#l00026">web_data</a>, <a class="el" href="web_8h_source.html#l00013">WEB_RING_BUFFER_COUNT</a>, and <a class="el" href="util_8c_source.html#l00085">write_status()</a>.</p>

<p>Referenced by <a class="el" href="rl__hw_8c_source.html#l00085">hw_sample()</a>.</p>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="pru_8c_a57e9b94e0c8080b953a54cbe7b6c575a_cgraph.png" border="0" usemap="#pru_8c_a57e9b94e0c8080b953a54cbe7b6c575a_cgraph" alt=""/></div>
<map name="pru_8c_a57e9b94e0c8080b953a54cbe7b6c575a_cgraph" id="pru_8c_a57e9b94e0c8080b953a54cbe7b6c575a_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a04f4c5f21d5257f6b867ec19c6988156" title="ceil_div" alt="" coords="189,5,256,32"/>
<area shape="rect" id="node3" href="util_8c.html#aae37b3d3b6a01f95a54b30585d022b64" title="count_channels" alt="" coords="361,556,474,583"/>
<area shape="rect" id="node4" href="sem_8c.html#ad1dce81f3f212dfe8e57912750f52009" title="create_sem" alt="" coords="372,49,463,76"/>
<area shape="rect" id="node5" href="log_8c.html#a03a4554bb48a96130b86f2c14b23f515" title="rl_log" alt="" coords="559,353,612,380"/>
<area shape="rect" id="node6" href="web_8c.html#a2d0be4d69c1133b31dba9f64162bee95" title="create_web_shm" alt="" coords="357,100,478,127"/>
<area shape="rect" id="node7" href="file__handling_8c.html#a7e69a52143626b26dd7bd21de044930d" title="handle_data_buffer" alt="" coords="157,607,289,633"/>
<area shape="rect" id="node11" href="sem_8c.html#ac67b4de40d56892078c0e6156691f578" title="set_sem" alt="" coords="381,809,453,836"/>
<area shape="rect" id="node13" href="pru_8c.html#aa7633dd2d59d343162d5dfcfc3b43ef4" title="map_pru_memory" alt="" coords="159,157,286,184"/>
<area shape="rect" id="node14" href="util_8c.html#a67a3cc56d4440aca0b206f54add44ee2" title="read_file_value" alt="" coords="363,201,472,228"/>
<area shape="rect" id="node15" href="meter_8c.html#aad154a6600f07718dd4c981eff256b9a" title="meter_init" alt="" coords="183,860,262,887"/>
<area shape="rect" id="node16" href="meter_8c.html#a5da869f298972c0decf3579a34d5d95e" title="meter_print_buffer" alt="" coords="159,657,286,684"/>
<area shape="rect" id="node18" href="meter_8c.html#a5e66adf5332d1946c041c2a2b518ad66" title="meter_stop" alt="" coords="179,911,266,937"/>
<area shape="rect" id="node19" href="pru_8c.html#a4707ea56eb19ed66966c1d92567b120c" title="pru_data_setup" alt="" coords="167,259,278,285"/>
<area shape="rect" id="node20" href="pru_8c.html#a4d0ce3530455f19eaab044e35a461c4f" title="pru_wait_event_timeout" alt="" coords="143,961,303,988"/>
<area shape="rect" id="node22" href="sem_8c.html#adeaa14c9206769c925f50d812c53bf64" title="remove_sem" alt="" coords="369,353,466,380"/>
<area shape="rect" id="node23" href="web_8c.html#a4c0dde4403d3cf1819bc9e63baf4aa47" title="reset_buffer" alt="" coords="177,1012,268,1039"/>
<area shape="rect" id="node24" href="file__handling_8c.html#afe6a831766bd482441fb74770b6b915c" title="setup_header" alt="" coords="173,809,273,836"/>
<area shape="rect" id="node27" href="file__handling_8c.html#aeb169760b7f62a562b2f5c0a814c1003" title="setup_lead_in" alt="" coords="171,505,274,532"/>
<area shape="rect" id="node29" href="file__handling_8c.html#afba5552ed3dc95773a179f0be5807ca5" title="store_header_bin" alt="" coords="162,1063,283,1089"/>
<area shape="rect" id="node30" href="file__handling_8c.html#a66b20337cdb82a8eebb181a2eb4b9393" title="store_header_csv" alt="" coords="160,1113,285,1140"/>
<area shape="rect" id="node31" href="pru_8c.html#a948700e88394d8922649c931a3d898e5" title="unmap_pru_memory" alt="" coords="153,309,293,336"/>
<area shape="rect" id="node32" href="file__handling_8c.html#abd5d440746f06b0a6a3881c13d60617b" title="update_header_bin" alt="" coords="157,1164,288,1191"/>
<area shape="rect" id="node33" href="file__handling_8c.html#a7fa1078134c9ad76841d0e714c1ecbb7" title="update_header_csv" alt="" coords="155,1215,290,1241"/>
<area shape="rect" id="node34" href="util_8c.html#a3195667ecf2a5a6383a1ea38345ad8ef" title="write_status" alt="" coords="371,404,464,431"/>
<area shape="rect" id="node8" href="web_8c.html#a8d886ce854b74be4a2b63ed94fba3669" title="buffer_add" alt="" coords="376,607,459,633"/>
<area shape="rect" id="node9" href="file__handling_8c.html#a2855db8374fab2f19683e3641ce225e6" title="create_time_stamp" alt="" coords="351,505,484,532"/>
<area shape="rect" id="node10" href="file__handling_8c.html#a54729b19db97b8371f553310a460dfd5" title="merge_currents" alt="" coords="361,657,473,684"/>
<area shape="rect" id="node12" href="sem_8c.html#ab7b00e8a9f17a36ebd99f2589056a6e0" title="wait_sem" alt="" coords="378,759,457,785"/>
<area shape="rect" id="node17" href="util_8c.html#a2faf7ce214adb8dc4803410b7fef5e1f" title="is_current" alt="" coords="546,885,625,912"/>
<area shape="rect" id="node21" href="pru_8c.html#a8003e1ac7da2ee5ce28b70417f12ecd5" title="pru_wait_event" alt="" coords="362,1012,473,1039"/>
<area shape="rect" id="node25" href="file__handling_8c.html#ae0c8434e85dcab7f8756919397e76c57" title="setup_channels" alt="" coords="361,961,474,988"/>
<area shape="rect" id="node26" href="util_8c.html#ad5fdacf1c5f1e917aa34ca0e093ab86b" title="is_low_current" alt="" coords="532,961,639,988"/>
<area shape="rect" id="node28" href="file__handling_8c.html#a7c0caa589e40223b471638ab18e6252c" title="get_mac_addr" alt="" coords="365,455,469,481"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aca3acbd32d5951672e7b2b1523f3c2fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pru_set_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pru_8h.html#ac1d7cd733ef08a5dde1d84664788bfa5">rl_pru_state</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write state to PRU </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>PRU state to write </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="pru_8c_source.html#l00129">129</a> of file <a class="el" href="pru_8c_source.html">pru.c</a>.</p>

<p>Referenced by <a class="el" href="pru_8c_source.html#l00567">pru_stop()</a>.</p>

</div>
</div>
<a class="anchor" id="ab2cde663e8bad29a264a7670f0e08511"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pru_stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stop and shut down PRU operation </p>

<p>Definition at line <a class="el" href="pru_8c_source.html#l00567">567</a> of file <a class="el" href="pru_8c_source.html">pru.c</a>.</p>

<p>References <a class="el" href="pru_8h_source.html#l00130">PRU_OFF</a>, <a class="el" href="pru_8c_source.html#l00129">pru_set_state()</a>, <a class="el" href="pru_8h_source.html#l00124">PRU_TIMEOUT</a>, <a class="el" href="pru_8c_source.html#l00044">pru_wait_event_timeout()</a>, <a class="el" href="types_8h_source.html#l00119">RL_ERROR</a>, <a class="el" href="types_8h_source.html#l00234">rl_status::state</a>, and <a class="el" href="rl__server_8c_source.html#l00042">status</a>.</p>

<p>Referenced by <a class="el" href="rl__hw_8c_source.html#l00056">hw_close()</a>.</p>

<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="pru_8c_ab2cde663e8bad29a264a7670f0e08511_cgraph.png" border="0" usemap="#pru_8c_ab2cde663e8bad29a264a7670f0e08511_cgraph" alt=""/></div>
<map name="pru_8c_ab2cde663e8bad29a264a7670f0e08511_cgraph" id="pru_8c_ab2cde663e8bad29a264a7670f0e08511_cgraph">
<area shape="rect" id="node2" href="pru_8c.html#aca3acbd32d5951672e7b2b1523f3c2fa" title="pru_set_state" alt="" coords="155,5,256,32"/>
<area shape="rect" id="node3" href="pru_8c.html#a4d0ce3530455f19eaab044e35a461c4f" title="pru_wait_event_timeout" alt="" coords="125,56,285,83"/>
<area shape="rect" id="node4" href="pru_8c.html#a8003e1ac7da2ee5ce28b70417f12ecd5" title="pru_wait_event" alt="" coords="333,56,444,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8003e1ac7da2ee5ce28b70417f12ecd5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* pru_wait_event </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>voidEvent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait on PRU event </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">voidEvent</td><td>PRU event to wait on </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="pru_8c_source.html#l00021">21</a> of file <a class="el" href="pru_8c_source.html">pru.c</a>.</p>

<p>References <a class="el" href="pru_8c_source.html#l00015">done</a>.</p>

<p>Referenced by <a class="el" href="pru_8c_source.html#l00044">pru_wait_event_timeout()</a>.</p>

</div>
</div>
<a class="anchor" id="a4d0ce3530455f19eaab044e35a461c4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pru_wait_event_timeout </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wrapper for PRU event waiting with time out </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>PRU event to wait on </td></tr>
    <tr><td class="paramname">timeout</td><td>Time out in seconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code of pthread timedwait function </dd></dl>

<p>Definition at line <a class="el" href="pru_8c_source.html#l00044">44</a> of file <a class="el" href="pru_8c_source.html">pru.c</a>.</p>

<p>References <a class="el" href="pru_8c_source.html#l00015">done</a>, <a class="el" href="pru_8c_source.html#l00021">pru_wait_event()</a>, and <a class="el" href="pru_8c_source.html#l00012">waiting</a>.</p>

<p>Referenced by <a class="el" href="pru_8c_source.html#l00266">pru_sample()</a>, and <a class="el" href="pru_8c_source.html#l00567">pru_stop()</a>.</p>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="pru_8c_a4d0ce3530455f19eaab044e35a461c4f_cgraph.png" border="0" usemap="#pru_8c_a4d0ce3530455f19eaab044e35a461c4f_cgraph" alt=""/></div>
<map name="pru_8c_a4d0ce3530455f19eaab044e35a461c4f_cgraph" id="pru_8c_a4d0ce3530455f19eaab044e35a461c4f_cgraph">
<area shape="rect" id="node2" href="pru_8c.html#a8003e1ac7da2ee5ce28b70417f12ecd5" title="pru_wait_event" alt="" coords="213,5,324,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a948700e88394d8922649c931a3d898e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int unmap_pru_memory </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pru_mmap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unmap PRU memory from user space </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pru_mmap</td><td>Pointer to mapped memory </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="types_8h.html#aa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a> on success, <a class="el" href="types_8h.html#a6d58f9ac447476b4e084d7ca383f5183">FAILURE</a> otherwise </dd></dl>

<p>Definition at line <a class="el" href="pru_8c_source.html#l00106">106</a> of file <a class="el" href="pru_8c_source.html">pru.c</a>.</p>

<p>References <a class="el" href="types_8h_source.html#l00167">ERROR</a>, <a class="el" href="types_8h_source.html#l00053">FAILURE</a>, <a class="el" href="pru_8h_source.html#l00105">MMAP_FILE</a>, <a class="el" href="util_8c_source.html#l00156">read_file_value()</a>, <a class="el" href="log_8c_source.html#l00012">rl_log()</a>, and <a class="el" href="types_8h_source.html#l00050">SUCCESS</a>.</p>

<p>Referenced by <a class="el" href="pru_8c_source.html#l00266">pru_sample()</a>.</p>

<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="pru_8c_a948700e88394d8922649c931a3d898e5_cgraph.png" border="0" usemap="#pru_8c_a948700e88394d8922649c931a3d898e5_cgraph" alt=""/></div>
<map name="pru_8c_a948700e88394d8922649c931a3d898e5_cgraph" id="pru_8c_a948700e88394d8922649c931a3d898e5_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a67a3cc56d4440aca0b206f54add44ee2" title="read_file_value" alt="" coords="193,5,303,32"/>
<area shape="rect" id="node3" href="log_8c.html#a03a4554bb48a96130b86f2c14b23f515" title="rl_log" alt="" coords="351,31,404,57"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="aba47632bdb6d911ae56229c7ef017723"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_cond_t done = PTHREAD_COND_INITIALIZER</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notification variable. </p>

<p>Definition at line <a class="el" href="pru_8c_source.html#l00015">15</a> of file <a class="el" href="pru_8c_source.html">pru.c</a>.</p>

<p>Referenced by <a class="el" href="pru_8c_source.html#l00021">pru_wait_event()</a>, and <a class="el" href="pru_8c_source.html#l00044">pru_wait_event_timeout()</a>.</p>

</div>
</div>
<a class="anchor" id="ad2718fc743dfe4460461ce938718ffa0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t waiting = PTHREAD_MUTEX_INITIALIZER</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PRU access mutex. </p>

<p>Definition at line <a class="el" href="pru_8c_source.html#l00012">12</a> of file <a class="el" href="pru_8c_source.html">pru.c</a>.</p>

<p>Referenced by <a class="el" href="pru_8c_source.html#l00044">pru_wait_event_timeout()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="pru_8c.html">pru.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
